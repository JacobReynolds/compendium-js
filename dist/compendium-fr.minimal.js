!function(e){"use strict";function n(e,n){var t;for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var i={},r={},o={},s={},a={},f={},l={},u={},c={},p=Array.isArray,h={profile:{negative_threshold:-.3,positive_threshold:.3,amplitude_threshold:.3,polite_threshold:.2,dirty_threshold:.3},parser:["v1","v2"]},d="foreign",g="interrogative",m="exclamatory",v="headline",y="imperative",x="approval",w="refusal";e.detect=a,e.dependencies=f,e.inflector=u,e.compendium=i,e.lexer=r,e.parser=l,e.factory=o,e.pos=c,e.config=h,function(){n(u,{isSingular:function(e){return""},isPlural:function(e){return""},isUncountable:function(e){return""},singularize:function(e){return""},pluralize:function(e){return""},conjugate:function(e,n){return""},toPast:function(e){return""},toGerund:function(e){return""},toPresents:function(e){return""},infinitive:function(e){return""}}),e.inflector=u}(),function(){e.stemmer=function(e){return e}}(),!function(){n(i,{verbs:"".split(" "),irregular:"".split("	").map(function(e){return e.split(" ")}),infinitives:[],ing_excpt:[],emphasis:[],abbrs:[],synonyms:"",abbrs_rplt:[],exclamations:["yahoo","joomla","jeopardy"],rules:"",suffixes:"",emots:[],floatChar:",",thousandChar:".",multipliers:["cent","mille","million","milliard","billion"],numbers:{zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,ninteen:19,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12},nationalities:"",neg:{},neg_neg:{},refusal:{},approval:{},approval_verbs:[],breakpoints:{},citations:{'"':'"',"'":'"',"`":'"'},p:{},months:{},days:{},indicators:{},dirty:"".split(" "),polite:"".split(" ")})}(),function(){n(f,{parse:function(e){}}),n(l,{parse:function(e){}})}(),!function(){var t=["'","’","ʼ"];n(e.lexer,{postprocess:function(e){var n,i,r=e.length,o=[];for(n=0;r>n;n+=1)i=e[n],t.indexOf(i)>-1?o[o.length-1]+="'":o.push(i);return o}})}(),!function(){function n(e){throw new RangeError(_[e])}function t(e,n){for(var t=e.length,i=[];t--;)i[t]=n(e[t]);return i}function i(e,n){var i=e.split("@"),r="";i.length>1&&(r=i[0]+"@",e=i[1]),e=e.replace(P,".");var o=e.split("."),s=t(o,n).join(".");return r+s}function r(e){for(var n,t,i=[],r=0,o=e.length;o>r;)n=e.charCodeAt(r++),n>=55296&&56319>=n&&o>r?(t=e.charCodeAt(r++),56320==(64512&t)?i.push(((1023&n)<<10)+(1023&t)+65536):(i.push(n),r--)):i.push(n);return i}function o(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=V(e>>>10&1023|55296),e=56320|1023&e),n+=V(e)}).join("")}function s(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:g}function a(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function f(e,n,t){var i=0;for(e=t?B(e/x):e>>1,e+=B(e/n);e>C*v>>1;i+=g)e=B(e/C);return B(i+(C+1)*e/(e+y))}function l(e){var t,i,r,a,l,u,c,p,h,y,x=[],N=e.length,k=0,P=O,_=w;for(i=e.lastIndexOf(b),0>i&&(i=0),r=0;i>r;++r)e.charCodeAt(r)>=128&&n("not-basic"),x.push(e.charCodeAt(r));for(a=i>0?i+1:0;N>a;){for(l=k,u=1,c=g;a>=N&&n("invalid-input"),p=s(e.charCodeAt(a++)),(p>=g||p>B((d-k)/u))&&n("overflow"),k+=p*u,h=_>=c?m:c>=_+v?v:c-_,!(h>p);c+=g)y=g-h,u>B(d/y)&&n("overflow"),u*=y;t=x.length+1,_=f(k-l,t,0==l),B(k/t)>d-P&&n("overflow"),P+=B(k/t),k%=t,x.splice(k++,0,P)}return o(x)}function u(e){var t,i,o,s,l,u,c,p,h,y,x,N,k,P,_,C=[];for(e=r(e),N=e.length,t=O,i=0,l=w,u=0;N>u;++u)x=e[u],128>x&&C.push(V(x));for(o=s=C.length,s&&C.push(b);N>o;){for(c=d,u=0;N>u;++u)x=e[u],x>=t&&c>x&&(c=x);for(k=o+1,c-t>B((d-i)/k)&&n("overflow"),i+=(c-t)*k,t=c,u=0;N>u;++u)if(x=e[u],t>x&&++i>d&&n("overflow"),x==t){for(p=i,h=g;y=l>=h?m:h>=l+v?v:h-l,!(y>p);h+=g)_=p-y,P=g-y,C.push(V(a(y+_%P,0))),p=B(_/P);C.push(V(a(p,0))),l=f(i,k,o==s),i=0,++o}++i,++t}return C.join("")}function c(e){return i(e,function(e){return N.test(e)?l(e.slice(4).toLowerCase()):e})}function p(e){return i(e,function(e){return k.test(e)?"xn--"+u(e):e})}var h,d=2147483647,g=36,m=1,v=26,y=38,x=700,w=72,O=128,b="-",N=/^xn--/,k=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=g-m,B=Math.floor,V=String.fromCharCode;h={version:"1.3.2",ucs2:{decode:r,encode:o},decode:l,encode:u,toASCII:p,toUnicode:c},e.punycode=h}(),!function(){var e=function(){this.t_={}};e.prototype.add=function(e,n){throw new Error("Not implmented")},e.prototype.isset=function(e){return null!==this.get(e)},e.prototype.get=function(e){throw new Error("Not implmented")}}(),!function(){var n=["en","fr"];s.toObject=function(e,n){},s.applyPOS=function(n,t,i){var r,s,a;for(a=e.tag(t,i),n.tags=a.tags,n.stats.confidence=a.confidence,r=0,s=t.length;s>r;r++)n.tokens.push(o.token(t[r],a.norms[r],a.tags[r]));return n.length=s,n},s.analyse=function(n,t){var i,u,c,p,d,g,m,v,y,x=[];for(u=r.advanced(e.decode(n),t),c=u.sentences,i=0,p=c.length;p>i;i++){for(d=Date.now(),g=o.sentence(u.raws[i],t),s.applyPOS(g,c[i],t),e.stat(g),v=a.context(),m=0,y=g.tokens.length;y>m;m++)a.apply("t",!0,g.tokens[m],m,g,v);for(a.apply("s",!0,g,i,x,v),h.parser.indexOf("v1")>-1&&f.parse(g),h.parser.indexOf("v1")>-1&&l.parse(g),m=0,y=g.tokens.length;y>m;m++)a.apply("t",!1,g.tokens[m],m,g,v);x.push(g),a.apply("s",!1,g,i,x,v),g.time=Date.now()-d}return x},e.analyse=function(e,t){var i=null;if(t=t||"en",-1===n.indexOf(t))throw new Error("Compendium supports only the following languages: "+n.join(", "));return i=s.analyse(e,t),a.apply("p",!1,i),i}}(),!function(){var n=e.inflector,t=function(t){var r,o,s,a,f,l,u,c,h,d,g,m=(Date.now(),t.split("	")),v={},y=[];for(r=0,s=m.length;s>r;r++)g=m[r].split(" "),f=!1,d=g.length-1,u=d>0?g[1].trim():"",a=u.length-1,a>0&&"-"===u[a]&&(f=!0,u=u.slice(0,a)),c=0,h=null,g[d].match(/^[A-Z]{2,}\/[0-9\-]+$/g)?(h=g[d].split("/")[0],c=g[d].split("/")[1]):(g[d].match(/^[0-9\-]+$/g)||g[d].match(/^\-{0,1}[0-4]\.[0-9]$/g))&&(c=g[d].indexOf(".")>0?parseFloat(g[d]):parseInt(g[d],10)),"EM"===u&&e.punycode.ucs2.decode(g[0]).length>1&&y.push(g[0]),v[g[0]]={pos:"-"===u?"NN":u,sentiment:c,condition:h,blocked:f};for(r in i)if(i.hasOwnProperty(r)&&"object"==typeof i[r]&&!p(i[r])){g=i[r];for(s in g)g.hasOwnProperty(s)&&(c=0,"string"==typeof g[s]?(v.hasOwnProperty(s)&&(c=v[s].sentiment),v[s]={pos:g[s],sentiment:c,condition:null}):"number"==typeof g[s]&&(v[s]={pos:"CD",sentiment:c,value:g[s],condition:null}))}for(r=0,s=i.verbs.length;s>r;r++,c=0)g=i.verbs[r],g&&(i.infinitives.push(g),l=n.conjugate(g,"VBZ"),l&&(v.hasOwnProperty(g)&&("NN"===v[g].pos&&(v[g].pos="VB"),f=v[g].blocked,c=v[g].sentiment),v[l]={pos:"VBZ",sentiment:c,condition:null,infinitive:g,blocked:f},l=n.conjugate(g,"VBN"),v.hasOwnProperty(l)?v[l].infinitive=g:v[l]={pos:"VBN",sentiment:c,condition:null,infinitive:g},l=n.conjugate(g,"VBG"),v.hasOwnProperty(l)?v[l].infinitive=g:v[l]={pos:"VBG",sentiment:c,condition:null,infinitive:g}));for(r=0,s=i.irregular.length;s>r;r++,c=0)if(g=i.irregular[r],d=g[0])for(v.hasOwnProperty(d)&&(c=v[d].sentiment,"VB"!==v[d].pos&&(v[d].pos="VB")),i.infinitives.push(d),o=0;5>o;o++)g[o].split("/").map(function(e){v.hasOwnProperty(e)?v[e].infinitive||(v[e].infinitive=d,v[e].sentiment=c):v[e]={pos:0===o?"VB":1===o?"VBD":2===o?"VBN":3===o?"VBZ":"VBG",sentiment:c,condition:null,infinitive:d}});return i.emots=y,v},r=function(e){e=e.split("	");var n,t,r,o=[],s=e.length;for(r=0;s>r;r++)n=e[r].split(" "),"+"===n[n.length-1]?(n.splice(n.length-1,1),t=!0):t=!1,o.push({from:n[0],to:n[1],type:parseInt(n[2],10),c1:n[3],c2:n[4],c3:n[5],secondRun:t});i.rules=o},o=function(e){e=e.split("	");var n,t,r=e.length,o=[];for(n=0;r>n;n++)t=e[n].split(" "),o.push({regexp:new RegExp("^.{1,}"+t[0].trim()+"$","gi"),pos:t[1]});i.suffixes=o},s=function(e){var t,i=e.length;for(t=0;i>t;t++)e.push(n.pluralize(e[t]))},a=function(e){var n,t=e.length,r=[],o=[];for(n=0;t>n;n++)n%2===0?r.push(e[n]):o.push(e[n]);i.abbrs=r,i.abbrs_rplt=o},f=function(e){var n,t,r={};for(e=e.split(" "),n=0,t=e.length;t>n;n++)r[e[n]]="JJ";i.nationalities=r},l=function(e){e=e.split("	");var n,t=e.length,r=[];for(n=0;t>n;n++)r.push(e[n].split(" "));i.synonyms=r};r(i.rules),o(i.suffixes),a(i.abbrs),s(i.dirty),l(i.synonyms),f(i.nationalities),e.lexicon=t("")}(),!function(){var n={'"':/(&quot;|\u201C|\u201D)/gi,"&":/&amp;/gi,"'":/(&#x27;|\u2018|\u2019)/gi,"<":/&lt;/gi,">":/&gt;/gi,"`":/&#x60/gi,shit:/(s\&\^t|sh\*t)/gi,fuck:/(f\*ck)/gi,"just kidding":"j/k",without:/w\/[to]/g,"with":"w/"," out of ":/\soutta\s/gi};e.decode=function(e){var t;for(t in n)n.hasOwnProperty(t)&&(e=e.replace(n[t],t));return e}}(),!function(){var e={t:[],s:[]},n={t:[],s:[],p:[]},t=[];a.init=function(e){t.push(e)},a.context=function(){var e,n={},i=t.length;for(e=0;i>e;e+=1)t[e](n);return n},a.before=function(n,t){e.hasOwnProperty(n)?e[n].push(t):console.warn("No detector with type "+n)},a.add=function(e,n){return console.warn("compendium.detectors.add is a deprecated function - please use compendium.detectors.after"),a.after(e,n)},a.after=function(e,t){n.hasOwnProperty(e)?n[e].push(t):console.warn("No detector with type "+e)},a.apply=function(t,i){var r,o,s=Array.prototype.slice.call(arguments).slice(2),a=i?e:n;if(a.hasOwnProperty(t))for(r=0,o=a[t].length;o>r;r++)a[t][r].apply(null,s)}}(),!function(){var e=function(e,n){if(n>=e.length)return!1;var t=e.tags[n+1];return"NNP"===t||"NNPS"==t},n=function(e,n){return"&"===e||"TO"===e||"CC"===e&&"or"!==n};a.before("s",function(t,i,r){var s,a,f,l,u,c,p=t.length,h=t.stats;if(!(h.p_upper>75||h.p_cap>85))for(s=0;p>s;s++)a=t.tags[s],f=t.tokens[s],l=f.norm,f.attr.entity>-1?c=null:"NN"===a?c=null:"NNP"===a||"NNPS"===a||c&&n(a,l)&&e(t,s)?c?(c.raw+=" "+f.raw,c.norm+=" "+f.norm,c.toIndex=s,f.attr.entity=u):(c=o.entity(f,s),u=f.attr.entity=t.entities.push(c)-1):c=null})}(),!function(){var e=Object.keys(i.neg).concat(Object.keys(i.refusal)),n=Object.keys(i.neg_neg),t=[["but","to"]];a.after("s",function(i,r,o){var s,a,f,l,u,c=i.length,p=t.length,h=!1,d=0,g=0;for(s=0;c>s;s++){if(u=i.tokens[s],l=i.tokens[s+1],u.profile.breakpoint||u.attr.is_punc)d=0,h=!1;else if(e.indexOf(u.norm)>-1)h?h=!1:(f=i.tokens[s-1],"RB"===u.pos&&f&&(f.attr.is_verb||"MD"===f.pos)&&(f.profile.negated=!0),g++,h=!0);else if(h&&n.indexOf(u.norm)>-1&&0===d)i.tokens[s-1].profile.negated=!1,g--,h=!1;else if(h){for(a=0;p>a&&c-1>s;a+=1)if(u.norm===t[a][0]&&l.norm===t[a][1]){h=!1;break}h&&(g++,d++)}u.profile.negated=h}i.profile.negated=g>0})}(),!function(){var e=["WP","WP$","WRB"];a.after("s",function(n,t){var i,r,o,s,a=n.length,f=n.stats,l=n.governor,u=n.profile.types,c=n.tokens[0],p=n.tokens[a-1];if(a>2&&(f.p_foreign>=10&&f.confidence<.5||f.confidence<=.35)&&u.push(d),f.p_cap>75&&f.p_upper<50&&a>10&&u.push(v),"!"===p.norm)u.push(m);else if("?"===p.norm||e.indexOf(c.pos)>-1&&0===f.breakpoints)u.push(g);else if(l>-1)if(i=n.tags[l],e.indexOf(i)>-1)u.push(g);else if("."!==p.pos&&0===i.indexOf("VB"))if("PRP"===n.tags[l+1]&&0===(n.tags[l+2]||"").indexOf("VB")&&u.push(g),l>1&&"PRP"===n.tags[l-1]&&0===n.tags[l-2].indexOf("VB"))u.push(g);else if("PRP"===n.tags[l-1]&&"MD"===n.tags[l-2])u.push(g);else for(r=n.tokens[l].deps.dependencies,o=0,s=r.length;s>o;o++)e.indexOf(n.tags[r[o]])>-1&&(n.tags[r[o]-1]||"").indexOf("VB")<0&&u.push(g);l>-1&&-1===u.indexOf(g)&&"VB"===n.tags[l]&&u.push(y)})}(),!function(){var e=i.dirty,n=i.polite,t=i.emphasis,r=["wo","'ll","will"],o=function(e,n){var t,i,r=n.deps.dependencies,s=r.length,a=0;if(0!==s){for(t=0;s>t;t+=1)i=e.tokens[r[t]],o(e,i),a+=i.profile.sentiment;n.profile.sentiment+=parseInt(a/s*100)/100}};a.after("s",function(i,s,a){var f,l,u,c,p,d,m,v=i.length,y=0,x=1,w=0,O=0,b=0,N=0,k=0,P=0,_=0,C=i.governor,B=i.profile;for(f=0;v>f;f++)l=i.tokens[f].profile,c=i.tokens[f].pos,p=i.tokens[f].norm,m=e.indexOf(p)>-1,d=n.indexOf(p)>-1,m?k++:d&&N++,l.negated&&"."!==c&&"EM"!==c&&(m?l.sentiment=l.sentiment/2:l.sentiment=-l.sentiment/2);for(C>-1&&(u=i.tokens[C],o(i,u),c=u.pos,u.attr.is_verb?B.main_tense="VBD"===c?"past":"present":"MD"===c&&r.indexOf(u.norm)>-1&&(B.main_tense="future")),i.stats.p_upper>70&&(x=1.2),f=0;v>f;f++)l=i.tokens[f].profile,c=i.tokens[f].pos,p=i.tokens[f].norm,x*=l.emphasis,("JJS"===c||"RB"===c&&t.indexOf(p)>-1)&&(b+=l.negated?2:5),w=l.sentiment*(1+b/10),y+=w,w>_?_=w:P>w&&(P=w),l.emphasis*=1+b/10,b>0&&-1===["DT","POS","IN"].indexOf(c)&&b--;5>v?v*=2:v>10&&(v/=2),O=(_+-P)/v,y*=x,y/=v,B.types.indexOf(g)>-1&&(y/=2),B.sentiment=y,B.emphasis=x,B.amplitude=O,B.dirtiness=k/v,B.politeness=N/v,Math.abs(O)>.5&&Math.abs(y)<.5&&Math.abs(O)>Math.abs(y)?B.label="mixed":y<=h.profile.negative_threshold?B.label="negative":y>=h.profile.positive_threshold?B.label="positive":O>=h.profile.amplitude_threshold&&(B.label="mixed")})}(),!function(){var e=Object.keys(i.approval),n=Object.keys(i.refusal);a.after("s",function(t,r){var o,s,a,f=t.tokens[0],l=t.profile,u=t.governor>-1?t.tokens[t.governor]:null,c=u?u.deps.dependencies:null,p=t.stats.words,h=l.types;if(!(h.indexOf(g)>-1)){if(n.indexOf(f.norm)>-1)h.push(w);else if(1===p&&"JJ"===f.pos&&l.sentiment<0)h.push(w);else if(u)if(n.indexOf(u.norm)>-1)h.push(w);else if(h.indexOf(y)>-1&&i.approval_verbs.indexOf(u.norm)>-1&&u.profile.negated)h.push(w);else if("UH"===u.pos)for(s=0,a=c.length;a>s;s+=1)o=t.tokens[c[s]],("UH"===o.pos||"RB"===o.pos)&&n.indexOf(o.norm)>-1&&h.push(w);if(!(h.indexOf(w)>-1))if(e.indexOf(f.norm)>-1)h.push(x);else if(1===p&&"JJ"===f.pos&&l.sentiment>0)h.push(x);else if(u&&3>=p)if(e.indexOf(u.norm)>-1)h.push(x);else if(h.indexOf(y)>-1&&i.approval_verbs.indexOf(u.norm)>-1)h.push(x);else if("UH"===u.pos)for(s=0;a>s;s+=1)o=t.tokens[c[s]],"UH"===o.pos&&e.indexOf(o.norm)>-1&&h.push(x)}})}(),!function(){var e=i.floatChar,n=i.thousandChar,t=/[0-9]/,r=/^-?[0-9]+$/,o=new RegExp("^-?[0-9]*\\"+e+"[0-9]+$"),s=new RegExp("^-?[0-9]+([\\"+n+"][0-9]+){1,}$"),f=new RegExp("^-?[0-9]+([\\"+n+"][0-9]+){1,}(\\"+e+"[0-9]+)$"),l=new RegExp("\\"+n,"g"),u=i.numbers,c=i.multipliers,p=function(e){var n=e.norm;if(n.match(t)){if(n.match(r))return parseInt(n,10);if(n.match(o))return parseFloat(n);if(n.match(f))return parseFloat(n.replace(l,""));if(n.match(s))return parseInt(n.replace(l,""),10)}return n=e.attr.singular,u.hasOwnProperty(n)?u[n]:null},h=function(e,n){var t,i,r,o=n[2],s=n[1],a=0;if(1===n[1])return t=o[0],p(t);for(i=0;s>i;i+=1){if(t=o[i],r=p(t),null===r)return null;c.indexOf(t.attr.singular)>-1?a*=r:a+=r}return a},d=function(e,n){var t,i=e[2],r=i.length;for(t=0;r>t;t+=1)i[t].attr.value=n};a.before("s",function(e,n,t,i){for(var r,o,s=i.numericSections,a=s.length,r=0;a>r;r+=1)o=h(e,s[r]),null!==o&&d(s[r],o)})}(),!function(){var n=e.lexicon;a.before("t",function(t,r,o){var s,a,f,l,c=t.raw,p=t.norm,h=t.stem,d=t.pos,g=0,m=1;a=c.toLowerCase(),f=a.length,f>1&&c.indexOf(".")===f-1&&(l=i.abbrs.indexOf(a.slice(0,f-1)))>-1?(t.attr.abbr=!0,p=i.abbrs_rplt[l]):c.match(/^([a-z]{1}\.)+/gi)?t.attr.acronym=!0:p=e.synonym(p),"."===d?(l=c[0],"!"===l||"?"===l?(m=c.length>1?2:"?"===l?1:1.5,c.length>1&&(p=c[0])):"."===l&&"."===c[1]&&(m=1.2,p="...")):"EM"===d?m=1.2:"UH"===d?m=1.1:0===d.indexOf("VB")?t.attr.infinitive=u.infinitive(p):"NNS"===d||"CD"===d?(s=u.singularize(p),t.attr.singular=s):"NN"===d&&(t.attr.singular=p),"NNP"!==d&&"NNPS"!==d&&"IN"!==d&&(n.hasOwnProperty(p)?(l=n[p],l.condition&&t.pos!==l.condition||(g=l.sentiment)):"NNS"===d&&n.hasOwnProperty(s)?(l=n[s],l.condition&&d!==l.condition||(g=l.sentiment/2)):n.hasOwnProperty(h)?(l=n[h],l.condition&&d!==l.condition||(g=l.sentiment/2)):i.dirty.indexOf(p)>-1?g=-2:i.polite.indexOf(p)>-1&&(g=1)),t.profile.sentiment=g,t.profile.emphasis=m,t.norm=p})}(),!function(){var e=[",",":",";","("],n=["-","—","/"];a.before("t",function(t,i,r){var o=t.raw,s=t.pos;(e.indexOf(s)>-1||n.indexOf(o)>-1)&&(t.profile.breakpoint=!0,r.stats.breakpoints++)})}(),!function(){a.before("t",function(n,t,r){var s,a,f,l,u,c=e.lexer.regexps,p=" "+n.norm+" ";for(s in c)c.hasOwnProperty(s)&&p.match(c[s])&&(a=o.entity(n,t,s),n.attr.entity=r.entities.push(a)-1,("username"===a.type||"composite"===s)&&(n.pos="NNP",r.tags[t]="NNP"),r.stats.confidence+=1/r.length,"pl"===s&&(a.type="political_affiliation",f=n.norm.split("-"),u=f[1].length,"d"===f[0]?a.meta.party="democrat":a.meta.party="republican",l="."===f[1][u-1]?i.abbrs.indexOf(f[1].slice(0,u-1)):i.abbrs.indexOf(f[1]),l>-1&&(f[1]=i.abbrs_rplt[l]),n.norm=a.meta.party+", "+f[1]))})}(),!function(){var e=i.numbers;a.init(function(e){e.numericSections=[],e.inNumericSection=!1}),a.before("t",function(n,t,i,r){var o=n.pos,s=r.numericSections;"CD"===o||"NNS"===o&&e.hasOwnProperty(n.attr.singular)?r.inNumericSection?(s[s.length-1][1]+=1,s[s.length-1][2].push(n)):(r.numericSections.push([t,1,[n]]),r.inNumericSection=!0):r.inNumericSection&&(r.inNumericSection=!1)})}(),!function(){var t=[",",".",":",'"',"(",")"];n(o,{entity:function(e,n,t){return{raw:e.raw,norm:e.norm,fromIndex:n,toIndex:n,type:t||null,meta:{}}},sentence:function(e,n){return{language:n,time:0,length:0,governor:-1,raw:e,stats:{words:0,confidence:0,p_foreign:0,p_upper:0,p_cap:0,avg_length:0,breakpoints:0},profile:{label:"neutral",sentiment:0,emphasis:1,amplitude:0,politeness:0,dirtiness:0,types:[],main_tense:"present"},has_negation:!1,entities:[],deps:{subjects:[],objects:[]},root:null,tokens:[],tags:[]}},token:function(n,i,r){var o=null,s=0===r.indexOf("VB");return i=i.toLowerCase(),o="VBD"===r||"VBN"===r?"past":"VBG"===r?"gerund":"present",{raw:n,norm:i,stem:e.stemmer(i),pos:r||"",profile:{sentiment:0,emphasis:1,negated:!1,breakpoint:!1},attr:{value:null,acronym:!1,abbr:!1,is_verb:s,tense:o,infinitive:null,is_noun:0===r.indexOf("NN"),plural:null,singular:null,entity:-1,is_punc:t.indexOf(r)>-1},deps:{master:null,governor:!1,type:"unknown",dependencies:[]}}},tag:function(e,n,t){return{tag:e||"NN",norm:t,confidence:n||0,blocked:!1}}})}(),!function(){var o,s,a=i.abbrs,f=/(\S.+?[….\?!\n])(?=\s+|$|")/g,l=new RegExp("(^| |\\(|\\[|{)("+a.join("|")+")[.!?] ?$","i"),u=" !?()[]{}\"'`%•.…:;,$€£¥\\/+=*_–",c=e.punycode.ucs2,p=i.floatChar,h=i.thousandChar,d=/^-?[0-9]+$/,g=/^[0-9]+$/,m=new RegExp("^-?[0-9]+[.,]$"),v={complexFloat:"\\s(-?[0-9]+([\\"+h+"][0-9]+){1,}(\\"+p+"[0-9]+))"},y={},x=i.emots.length,w=function(e){var n=0,t=e.length;for(n=0;t>n;n+=1)if(null===e[n]||"emoticon"!==e[n].group)return!1;return!0},O=function(e,n,t,i){var r,o,s,a;for(r in t)if(t.hasOwnProperty(r))for(s=new RegExp(t[r],"g");null!==(a=s.exec(e));)o=a[0].length,n[a.index]={content:a[1],type:r,group:i,length:o-(o-a[1].length)}};for(o=0;2*x>o;o+=2)s=i.emots[o/2],y["em_"+o]="\\s("+t(s)+"+)[^a-z]",s.match(/^[a-zA-Z]/)||(y["em_"+(o+1)]="[a-zA-Z]("+t(s)+"+)[^a-z]");n(e.lexer,{regexps:{email:"\\s([^\\s]+@[^\\s]+(\\.[^\\s\\)\\]]+){1,})",composite:"\\s([a-zA-Z]&[a-zA-Z])",username:"\\s(@[a-zA-Z0-9_]+)",html_char:"\\s(&[a-zA-Z0-9]{2,4};)",hashtag:"\\s(#[a-zA-Z0-9_]+)",url:"\\s((https?|ftp):\\/\\/[\\-a-z0-9+&@#\\/%\\?=~_|!:,\\.;]*[\\-a-z0-9+&@#\\/%=~_|])",ip:"\\s(([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5]))\\s",pl:"\\s([rd]-([a-z]+\\.{0,1})+)"},consolidate:function(e,n,t){for(var i=1,r=e.length;r>i;i+=1)w(n[i])&&(e[i-1]=e[i-1].concat(e[i]),t[i-1]+=" "+t[i],e.splice(i,1),n.splice(i,1),t.splice(i,1),i-=1,r-=1);return e},sentences:function(e){var n,t,i=e.split(f),r=i.length,o=[];for(n=0;r>n;n++)t=i[n].trim(),t.match(l)||t.match(/[ |\.][A-Za-z]\.?$/)?r-1>n&&!i[n+1].match(/^[A-Za-z]\s/)?i[n+1]=t+" "+i[n+1].trim():o.push(t):t&&o.push(t);return o},splitTokens:function(e){var n,t,i,o=e.length,s=[],a=[],f=null,l=" "+e+" ",p={},h=function(e){if(e){"object"==typeof e&&(f=e,e=e.content),i=c.decode(e);var n,t=i.length,r="";for(n=0;t>n;n++)i[n]>=128511?(r&&(a.push(f),s.push(r)),a.push({group:"emoticon"}),s.push(c.encode([i[n]])),r=""):r+=c.encode([i[n]]);r&&(a.push(f),s.push(r))}},d=function(e,n){h(e),h(n),t=""};for(O(l,p,r.regexps,"entity"),O(l,p,y,"emoticon"),O(l,p,v,"number"),t="",n=0;o>n;n++)p.hasOwnProperty(n)?(d(t,p[n]),n+=p[n].length-1):u.indexOf(e[n])>-1?d(t,e[n]):t+=e[n];return d(t),{tokens:s,meta:a}},tokens:function(e,n){var t,i,o=r.splitTokens(e),s=o.tokens,f=o.meta,l=s.length,u=!1,c=[],p=[],h="",v="",y=0;for(t=0;l>t;t++)if(i=s[t].trim())if(h=y>0?c[y-1]:"",v=l-1>t?s[t+1]:"",("."===i||","===i)&&h.match(d)&&v.match(g)||i.match(d)&&h.match(m))u=!1,c[y-1]+=i;else if("."===i&&l-1>t&&y>0&&a.indexOf(h.toLowerCase())>-1)u=!1,c[y-1]+=i;else if(u&&l-1>t&&1===i.length)c[y-1]+=i;else{if(i.match(/^\W+$/gi)){if(u=!1,i===h[h.length-1]){c[y-1]+=i;continue}}else i.match(/^[A-Za-z]{1}$/g)&&l-1>t&&"."===v&&(u=!0);i&&(c.push(i),p.push(f[t]),y++)}else u=!1;return{result:r.postprocess(c,p),meta:p}},advanced:function(e,n,t){var i,o,s=r.sentences(e),a=s.length,f=[],l=[];if(t)return{sentences:s,raws:null,meta:null};for(i=0;a>i;i++)l.push(s[i]),o=r.tokens(s[i],n),f[i]=o.meta,s[i]=o.result;return r.consolidate(s,f,l),{raws:l,sentences:s,meta:f}},lex:function(e,n,t){return r.advanced(e,n,t).sentences}}),e.lex=r.lex}(),!function(){var t=e.inflector.isPlural,r=0,s=1,a=2,f=3,l=4,u=41,p=5,h=51,d=6,g=8,m=81,v=9,y=11,x=12,w=121,O=13,b=14,N=141,k=15,P=16,_=17,C=171,B=172,V=18,$=19,A=21,S=e.lexicon,z=i.emots,Z=i.rules,j=Z.length,D=i.suffixes,R=D.length,E=new RegExp("^-?[0-9]+([\\"+i.thousandChar+"][0-9]+){1,}(\\"+i.floatChar+"[0-9]+)$"),I=function(n){var t,i=n.replace(/(.)\1{2,}/g,"$1$1");return e.lexicon.hasOwnProperty(i)?i:(t=e.synonym(i),t!==i?t:(i=n.replace(/(.)\1{1,}/g,"$1"),e.lexicon.hasOwnProperty(i)?i:(t=e.synonym(i),t!==i?t:null)))},J=function(e){return e.match(/^[A-Z][a-z\.]+$/g)||e.match(/^[A-Z]+[0-9]+$/g)||e.match(/^[A-Z][a-z]+[A-Z][a-z]+$/g)};n(c,{applyRule:function(e,n,t,i,o,c,S){if(!(e.from!==t||e.secondRun&&0===S)){var z,Z,j=e.type;if(j!==r){if(n=n.toLowerCase(),j===a){if(i>0&&c[i-1]===e.c1)return void(c[i]=e.to)}else if(j===h){if(z=o[i-1]||"",c[i-1]===e.c2&&z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===f){if(c[i+1]===e.c1)return void(c[i]=e.to)}else if(j===l){if(c[i+2]===e.c1)return void(c[i]=e.to)}else if(j===u){if(c[i-2]===e.c1)return void(c[i]=e.to)}else if(j===s){if(c[i-1]===e.c1||c[i-2]===e.c1)return void(c[i]=e.to)}else if(j===p){if(z=o[i-1]||"",z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===d){if(n===e.c1)return void(c[i]=e.to)}else if(j===g){if(n===e.c2&&c[i-1]===e.c1)return void(c[i]=e.to)}else if(j===m){if(z=o[i-1]||"",n===e.c2&&z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===v){if(c[i+1]===e.c1||c[i+2]===e.c1||c[i+3]===e.c1)return void(c[i]=e.to)}else if(j===y){if(z=o[i+2]||"",z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===w){if(z=o[i+1]||"",n===e.c1&&z.toLowerCase()===e.c2)return void(c[i]=e.to)}else if(j===x){if(n===e.c1&&c[i+1]===e.c2)return void(c[i]=e.to)}else if(j===O){if(c[i-1]===e.c1||c[i-2]===e.c1||c[i-3]===e.c1)return void(c[i]=e.to)}else if(j===b){if(c[i-1]===e.c1&&c[i+1]===e.c2)return void(c[i]=e.to)}else if(j===N){if(n===e.c1&&c[i-1]===e.c2&&c[i+1]===e.c3)return void(c[i]=e.to)}else if(j===k){if(z=o[i+1]||"",z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===P){if(c[i+1]===e.c1||c[i+2]===e.c1)return void(c[i]=e.to)}else if(j===_){if(c[i-2]===e.c1&&c[i-1]===e.c2)return void(c[i]=e.to)}else if(j===B){if(c[i-2]===e.c1&&c[i-1]===e.c2&&c[i+1]===e.c3)return void(c[i]=e.to)}else if(j===C){if(c[i+1]===e.c1&&c[i+2]===e.c2)return void(c[i]=e.to)}else if(j===V){if(z=o[i+1]||"",Z=o[i+2]||"",z.toLowerCase()===e.c1||Z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===$){if(Z=o[i-2]||"",Z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===A){if(z=o[i-1]||"",Z=o[i-2]||"",z.toLowerCase()===e.c1||Z.toLowerCase()===e.c1)return void(c[i]=e.to)}else if(j===s&&(z=c[i-1]||"",Z=c[i-2]||"",z===e.c1||Z===e.c1))return void(c[i]=e.to)}else if(0===i&&n===e.c1)return void(c[i]=e.to)}},applyRules:function(e,n,t,i,r){var o;for(o=0;j>o;o++)c.applyRule(Z[o],e,i[n],n,t,i,r)},apply:function(e,n,t){for(var i,r=e.length,o=0;2>o;){for(i=0;r>i;i++)t[i]!==!0&&this.applyRules(e[i],i,e,n,o);o++}return n},testSuffixes:function(e){var n;for(n=0;R>n;n++)if(e.match(D[n].regexp))return D[n].pos;return null},getTag:function(n){var t,i,r,s,a,f=o.tag();if(f.norm=n,n.length>1)for(t=null,i=0,r=z.length;r>i;i++)if(0===n.indexOf(z[i]))return f.tag="EM",f.blocked=!0,f.confidence=1,f;return t=e.lexicon[n],t&&"-"!==t?(f.tag=t,f.blocked=t.blocked,f.confidence=1,f):(s=n.toLowerCase(),a=e.synonym(s),a!==s&&(t=e.lexicon[a])?(f.tag=t,f.confidence=1,f):s.match(/(\w)\1+/g)&&(a=I(s))?(f.norm=a,t=e.lexicon[a],f.tag=t,f.confidence=.8,f):"string"==typeof n&&n.match(/[A-Z]/g)&&(t=e.lexicon[s],t&&"-"!==t)?(f.tag=t,f.confidence=.75,f):(t=c.testSuffixes(n),t?(f.tag=t,f.confidence=.25,f):n.indexOf("-")>-1?(n.match(/^[A-Z]/g)?f.tag="NNP":f.tag="JJ",f.confidence/=2,f):f))},tag:function(e){var n,r,o,s,a,f,l,u=[],p=[],h=[],d=e.length,g=!1,m=0,v=function(e,n,t){e="object"==typeof e?e.pos:e,u.push("-"===e?"NN":e),p.push("boolean"==typeof t?t:!1),m+=n};for(o=0;d>o;o++)n=e[o],h[o]=n,n.match(/^[%\+\-\/@]$/g)?v("SYM",1,!0):n.match(/^(\?|\!|\.){1,}$/g)?v(".",1,!0):n.match(/^-?[0-9]+([\.,][0-9]+)?$/g)||n.match(E)||n.match(/^([0-9]{2}|[0-9]{4})s$/g)||n.match(/^[0-9]{2,4}-[0-9]{2,4}$/g)?v("CD",1,!0):(f=c.getTag(e[o]),v(f.tag,f.confidence,f.blocked),h[o]=f.norm);for(o=0;d>o;o++)if(r=u[o],"SYM"!==r&&"."!==r){if(n=e[o],a=n.toLowerCase(),s=n.length,l=0===o?"":u[o-1],0===o){if("that"===a){u[o]="DT",m++;continue}if(("NN"===r||"VB"===r)&&i.infinitives.indexOf(a)>-1){u[o]="VB",m++;continue}}!(s>3&&n.match(/[^e]ed$/gi)&&0===r.indexOf("N"))||0!==o&&n.match(/^[A-Z][a-z]+/g)?!(s>4&&n.lastIndexOf("ing")===s-3&&-1===i.ing_excpt.indexOf(a))||0!==r.indexOf("N")&&"MD"!==r||0!==o&&n.match(/^[A-Z][a-z]+/g)||"NN"===l||"JJ"===l||"DT"===l||"VBG"===l?s>4&&a.lastIndexOf("in")===s-2&&"NN"===r&&(0===o||!n.match(/^[A-Z][a-z]+/g))&&"NN"!==l&&"JJ"!==l&&"DT"!==l&&"VBG"!==l&&(f=S[a+"g"],f&&"VBG"===f.pos)?u[o]="VBG":("TO"===l&&i.infinitives.indexOf(a)>-1&&(r="VB"),"DT"!==l&&n.match(/^[IVXLCDM]+$/g)&&"I"!==n&&(r="CD"),"NN"===r||"VB"===r||"JJ"===r&&i.nationalities.hasOwnProperty(a)===!1?n.match(/^[A-Z]+$/g)||n.match(/^([a-z]{1}\.)+/gi)?(r="NNP",g=!0):o>0&&J(n)?(r="NNP",g=!0,f=e[o-1],1!==o||"NN"!==l&&"NNS"!==l&&"JJ"!==l&&"VB"!==l||!J(f)||(u[o-1]="NNP")):g=!1:g&&("CD"===r&&n.match(/^[IVXLCDM]+$/g)||"I"===n)?r="NNP":g="NNP"===r||"NNPS"===r,"NN"===r&&t(n)&&(r="NNS"),u[o]=r):u[o]="VBG":u[o]="VBN"}for(c.apply(e,u,p),o=0;d>o;o++)n=e[o],r=u[o],l=u[o-1]||"",n.match(/ed$/g)&&("JJ"!==r||"VBZ"!==l&&"VBP"!==l||"TO"!==u[o+1]||(r="VBN")),u[o]=r;return{tags:u,norms:h,confidence:m/d}}}),e.tag=c.tag}(),!function(){var n=["#","SYM","CR","EM"];e.stat=function(e){var t,i,r,o,s=e.length,a=s,f=e.stats,l=0,u=0,c=0,p=0,h=0;for(t=0;s>t;t++)i=e.tokens[t],r=i.raw,l+=r.length,o=e.tags[t],i.attr.is_punc||n.indexOf(o)>-1?a--:(p+=1,r.match(/^[A-Z][a-zA-Z]+$/g)&&h++,r.match(/[A-Z]+/)&&!r.match(/[a-z]/)&&c++,"FW"===o&&u++);0===a&&(a=1),f.words=p,f.p_foreign=100*u/a,f.p_upper=100*c/a,f.p_cap=100*h/a,f.avg_length=l/a}}(),!function(){var n=i.synonyms,t=n.length;e.synonym=function(e){var i;for(i=0;t>i;i++)if(n[i].indexOf(e)>0)return n[i][0];return e}}()}("undefined"==typeof exports?this.compendium={}:exports);