!function(e){"use strict";function n(e,n){var t;for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var r={},o={},i={},s={},a={},f={},l={},u={},c={specifics:{beforeBrill:function(){},afterBrill:function(){}}},p=Array.isArray,h={profile:{negative_threshold:-.3,positive_threshold:.3,amplitude_threshold:.3,polite_threshold:.2,dirty_threshold:.3},parser:["v1","v2"]},d="foreign",g="interrogative",m="exclamatory",v="headline",y="imperative",x="approval",w="refusal";e.detect=a,e.dependencies=f,e.inflector=u,e.compendium=r,e.lexer=o,e.parser=l,e.factory=i,e.pos=c,e.config=h,function(){n(u,{isSingular:function(e){return""},isPlural:function(e){return""},isUncountable:function(e){return""},singularize:function(e){return""},pluralize:function(e){return""},conjugate:function(e,n){return""},toPast:function(e){return""},toGerund:function(e){return""},toPresents:function(e){return""},infinitive:function(e){return""}}),e.inflector=u}(),function(){e.stemmer=function(e){return e}}(),!function(){n(r,{verbs:"".split(" "),irregular:"".split("	").map(function(e){return e.split(" ")}),infinitives:[],ing_excpt:[],emphasis:[],abbrs:[],synonyms:"",abbrs_rplt:[],exclamations:["yahoo","joomla","jeopardy"],rules:"",suffixes:"",emots:[],floatChar:",",thousandChar:".",multipliers:["cent","mille","million","milliard","billion"],numbers:{zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,ninteen:19,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12},nationalities:"",neg:{},neg_neg:{},refusal:{},approval:{},approval_verbs:[],breakpoints:{},citations:{'"':'"',"'":'"',"`":'"'},p:{},months:{},days:{},indicators:{},dirty:"".split(" "),polite:"".split(" ")})}(),function(){n(f,{parse:function(e){}}),n(l,{parse:function(e){}})}(),!function(){var t=["'","’","ʼ"];n(e.lexer,{postprocess:function(e){var n,r,o=e.length,i=[];for(n=0;o>n;n+=1)r=e[n],t.indexOf(r)>-1?i[i.length-1]+="'":i.push(r);return i}})}(),!function(){function n(e){throw new RangeError(P[e])}function t(e,n){for(var t=e.length,r=[];t--;)r[t]=n(e[t]);return r}function r(e,n){var r=e.split("@"),o="";r.length>1&&(o=r[0]+"@",e=r[1]),e=e.replace(_,".");var i=e.split("."),s=t(i,n).join(".");return o+s}function o(e){for(var n,t,r=[],o=0,i=e.length;i>o;)n=e.charCodeAt(o++),n>=55296&&56319>=n&&i>o?(t=e.charCodeAt(o++),56320==(64512&t)?r.push(((1023&n)<<10)+(1023&t)+65536):(r.push(n),o--)):r.push(n);return r}function i(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=$(e>>>10&1023|55296),e=56320|1023&e),n+=$(e)}).join("")}function s(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:g}function a(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function f(e,n,t){var r=0;for(e=t?B(e/x):e>>1,e+=B(e/n);e>C*v>>1;r+=g)e=B(e/C);return B(r+(C+1)*e/(e+y))}function l(e){var t,r,o,a,l,u,c,p,h,y,x=[],k=e.length,N=0,_=b,P=w;for(r=e.lastIndexOf(O),0>r&&(r=0),o=0;r>o;++o)e.charCodeAt(o)>=128&&n("not-basic"),x.push(e.charCodeAt(o));for(a=r>0?r+1:0;k>a;){for(l=N,u=1,c=g;a>=k&&n("invalid-input"),p=s(e.charCodeAt(a++)),(p>=g||p>B((d-N)/u))&&n("overflow"),N+=p*u,h=P>=c?m:c>=P+v?v:c-P,!(h>p);c+=g)y=g-h,u>B(d/y)&&n("overflow"),u*=y;t=x.length+1,P=f(N-l,t,0==l),B(N/t)>d-_&&n("overflow"),_+=B(N/t),N%=t,x.splice(N++,0,_)}return i(x)}function u(e){var t,r,i,s,l,u,c,p,h,y,x,k,N,_,P,C=[];for(e=o(e),k=e.length,t=b,r=0,l=w,u=0;k>u;++u)x=e[u],128>x&&C.push($(x));for(i=s=C.length,s&&C.push(O);k>i;){for(c=d,u=0;k>u;++u)x=e[u],x>=t&&c>x&&(c=x);for(N=i+1,c-t>B((d-r)/N)&&n("overflow"),r+=(c-t)*N,t=c,u=0;k>u;++u)if(x=e[u],t>x&&++r>d&&n("overflow"),x==t){for(p=r,h=g;y=l>=h?m:h>=l+v?v:h-l,!(y>p);h+=g)P=p-y,_=g-y,C.push($(a(y+P%_,0))),p=B(P/_);C.push($(a(p,0))),l=f(r,N,i==s),r=0,++i}++r,++t}return C.join("")}function c(e){return r(e,function(e){return k.test(e)?l(e.slice(4).toLowerCase()):e})}function p(e){return r(e,function(e){return N.test(e)?"xn--"+u(e):e})}var h,d=2147483647,g=36,m=1,v=26,y=38,x=700,w=72,b=128,O="-",k=/^xn--/,N=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=g-m,B=Math.floor,$=String.fromCharCode;h={version:"1.3.2",ucs2:{decode:o,encode:i},decode:l,encode:u,toASCII:p,toUnicode:c},e.punycode=h}(),!function(){var e=function(){this.t_={}};e.prototype.add=function(e,n){throw new Error("Not implmented")},e.prototype.isset=function(e){return null!==this.get(e)},e.prototype.get=function(e){throw new Error("Not implmented")}}(),!function(){var n=["en","fr"];s.toObject=function(e,n){},s.applyPOS=function(n,t,r){var o,s,a;for(a=e.tag(t,r),n.tags=a.tags,n.stats.confidence=a.confidence,o=0,s=t.length;s>o;o++)n.tokens.push(i.token(t[o],a.norms[o],a.tags[o]));return n.length=s,n},s.analyse=function(n,t){var r,u,c,p,d,g,m,v,y,x=[];for(u=o.advanced(e.decode(n),t),c=u.sentences,r=0,p=c.length;p>r;r++){for(d=Date.now(),g=i.sentence(u.raws[r],t),s.applyPOS(g,c[r],t),e.stat(g),v=a.context(),m=0,y=g.tokens.length;y>m;m++)a.apply("t",!0,g.tokens[m],m,g,v);for(a.apply("s",!0,g,r,x,v),h.parser.indexOf("v1")>-1&&f.parse(g),h.parser.indexOf("v1")>-1&&l.parse(g),m=0,y=g.tokens.length;y>m;m++)a.apply("t",!1,g.tokens[m],m,g,v);x.push(g),a.apply("s",!1,g,r,x,v),g.time=Date.now()-d}return x},e.analyse=function(e,t){var r=null;if(t=t||"en",-1===n.indexOf(t))throw new Error("Compendium supports only the following languages: "+n.join(", "));return r=s.analyse(e,t),a.apply("p",!1,r),r}}(),!function(){var n=e.inflector,t=function(t){var o,i,s,a,f,l,u,c,h,d,g,m=(Date.now(),t.split("	")),v={},y=[];for(o=0,s=m.length;s>o;o++)g=m[o].split(" "),f=!1,d=g.length-1,u=d>0?g[1].trim():"",a=u.length-1,a>0&&"-"===u[a]&&(f=!0,u=u.slice(0,a)),c=0,h=null,g[d].match(/^[A-Z]{2,}\/[0-9\-]+$/g)?(h=g[d].split("/")[0],c=g[d].split("/")[1]):(g[d].match(/^[0-9\-]+$/g)||g[d].match(/^\-{0,1}[0-4]\.[0-9]$/g))&&(c=g[d].indexOf(".")>0?parseFloat(g[d]):parseInt(g[d],10)),"EM"===u&&e.punycode.ucs2.decode(g[0]).length>1&&y.push(g[0]),v[g[0]]={pos:"-"===u?"NN":u,sentiment:c,condition:h,blocked:f};for(o in r)if(r.hasOwnProperty(o)&&"object"==typeof r[o]&&!p(r[o])){g=r[o];for(s in g)g.hasOwnProperty(s)&&(c=0,"string"==typeof g[s]?(v.hasOwnProperty(s)&&(c=v[s].sentiment),v[s]={pos:g[s],sentiment:c,condition:null}):"number"==typeof g[s]&&(v[s]={pos:"CD",sentiment:c,value:g[s],condition:null}))}for(o=0,s=r.verbs.length;s>o;o++,c=0)g=r.verbs[o],g&&(r.infinitives.push(g),l=n.conjugate(g,"VBZ"),l&&(v.hasOwnProperty(g)&&("NN"===v[g].pos&&(v[g].pos="VB"),f=v[g].blocked,c=v[g].sentiment),v[l]={pos:"VBZ",sentiment:c,condition:null,infinitive:g,blocked:f},l=n.conjugate(g,"VBN"),v.hasOwnProperty(l)?v[l].infinitive=g:v[l]={pos:"VBN",sentiment:c,condition:null,infinitive:g},l=n.conjugate(g,"VBG"),v.hasOwnProperty(l)?v[l].infinitive=g:v[l]={pos:"VBG",sentiment:c,condition:null,infinitive:g}));for(o=0,s=r.irregular.length;s>o;o++,c=0)if(g=r.irregular[o],d=g[0])for(v.hasOwnProperty(d)&&(c=v[d].sentiment,"VB"!==v[d].pos&&(v[d].pos="VB")),r.infinitives.push(d),i=0;5>i;i++)g[i].split("/").map(function(e){v.hasOwnProperty(e)?v[e].infinitive||(v[e].infinitive=d,v[e].sentiment=c):v[e]={pos:0===i?"VB":1===i?"VBD":2===i?"VBN":3===i?"VBZ":"VBG",sentiment:c,condition:null,infinitive:d}});return r.emots=y,v},o=function(e){e=e.split("	");var n,t,o,i=[],s=e.length;for(o=0;s>o;o++)n=e[o].split(" "),"+"===n[n.length-1]?(n.splice(n.length-1,1),t=!0):t=!1,i.push({from:n[0],to:n[1],type:parseInt(n[2],10),c1:n[3],c2:n[4],c3:n[5],secondRun:t});r.rules=i},i=function(e){e=e.split("	");var n,t,o=e.length,i=[];for(n=0;o>n;n++)t=e[n].split(" "),i.push({regexp:new RegExp("^.{1,}"+t[0].trim()+"$","gi"),pos:t[1]});r.suffixes=i},s=function(e){var t,r=e.length;for(t=0;r>t;t++)e.push(n.pluralize(e[t]))},a=function(e){var n,t=e.length,o=[],i=[];for(n=0;t>n;n++)n%2===0?o.push(e[n]):i.push(e[n]);r.abbrs=o,r.abbrs_rplt=i},f=function(e){var n,t,o={};for(e=e.split(" "),n=0,t=e.length;t>n;n++)o[e[n]]="JJ";r.nationalities=o},l=function(e){e=e.split("	");var n,t=e.length,o=[];for(n=0;t>n;n++)o.push(e[n].split(" "));r.synonyms=o};o(r.rules),i(r.suffixes),a(r.abbrs),s(r.dirty),l(r.synonyms),f(r.nationalities),e.lexicon=t("")}(),!function(){var n={'"':/(&quot;|\u201C|\u201D)/gi,"&":/&amp;/gi,"'":/(&#x27;|\u2018|\u2019)/gi,"<":/&lt;/gi,">":/&gt;/gi,"`":/&#x60/gi,shit:/(s\&\^t|sh\*t)/gi,fuck:/(f\*ck)/gi,"just kidding":"j/k",without:/w\/[to]/g,"with":"w/"," out of ":/\soutta\s/gi};e.decode=function(e){var t;for(t in n)n.hasOwnProperty(t)&&(e=e.replace(n[t],t));return e}}(),!function(){var e={t:[],s:[]},n={t:[],s:[],p:[]},t=[];a.init=function(e){t.push(e)},a.context=function(){var e,n={},r=t.length;for(e=0;r>e;e+=1)t[e](n);return n},a.before=function(n,t){e.hasOwnProperty(n)?e[n].push(t):console.warn("No detector with type "+n)},a.add=function(e,n){return console.warn("compendium.detectors.add is a deprecated function - please use compendium.detectors.after"),a.after(e,n)},a.after=function(e,t){n.hasOwnProperty(e)?n[e].push(t):console.warn("No detector with type "+e)},a.apply=function(t,r){var o,i,s=Array.prototype.slice.call(arguments).slice(2),a=r?e:n;if(a.hasOwnProperty(t))for(o=0,i=a[t].length;i>o;o++)a[t][o].apply(null,s)}}(),!function(){var e=function(e,n){if(n>=e.length)return!1;var t=e.tags[n+1];return"NNP"===t||"NNPS"==t},n=function(e,n){return"&"===e||"TO"===e||"CC"===e&&"or"!==n};a.before("s",function(t,r,o){var s,a,f,l,u,c,p=t.length,h=t.stats;if(!(h.p_upper>75||h.p_cap>85))for(s=0;p>s;s++)a=t.tags[s],f=t.tokens[s],l=f.norm,f.attr.entity>-1?c=null:"NN"===a?c=null:"NNP"===a||"NNPS"===a||c&&n(a,l)&&e(t,s)?c?(c.raw+=" "+f.raw,c.norm+=" "+f.norm,c.toIndex=s,f.attr.entity=u):(c=i.entity(f,s),u=f.attr.entity=t.entities.push(c)-1):c=null})}(),!function(){var e=Object.keys(r.neg).concat(Object.keys(r.refusal)),n=Object.keys(r.neg_neg),t=[["but","to"]];a.after("s",function(r,o,i){var s,a,f,l,u,c=r.length,p=t.length,h=!1,d=0,g=0;for(s=0;c>s;s++){if(u=r.tokens[s],l=r.tokens[s+1],u.profile.breakpoint||u.attr.is_punc)d=0,h=!1;else if(e.indexOf(u.norm)>-1)h?h=!1:(f=r.tokens[s-1],"RB"===u.pos&&f&&(f.attr.is_verb||"MD"===f.pos)&&(f.profile.negated=!0),g++,h=!0);else if(h&&n.indexOf(u.norm)>-1&&0===d)r.tokens[s-1].profile.negated=!1,g--,h=!1;else if(h){for(a=0;p>a&&c-1>s;a+=1)if(u.norm===t[a][0]&&l.norm===t[a][1]){h=!1;break}h&&(g++,d++)}u.profile.negated=h}r.profile.negated=g>0})}(),!function(){var e=["WP","WP$","WRB"];a.after("s",function(n,t){var r,o,i,s,a=n.length,f=n.stats,l=n.governor,u=n.profile.types,c=n.tokens[0],p=n.tokens[a-1];if(a>2&&(f.p_foreign>=10&&f.confidence<.5||f.confidence<=.35)&&u.push(d),f.p_cap>75&&f.p_upper<50&&a>10&&u.push(v),"!"===p.norm)u.push(m);else if("?"===p.norm||e.indexOf(c.pos)>-1&&0===f.breakpoints)u.push(g);else if(l>-1)if(r=n.tags[l],e.indexOf(r)>-1)u.push(g);else if("."!==p.pos&&0===r.indexOf("VB"))if("PRP"===n.tags[l+1]&&0===(n.tags[l+2]||"").indexOf("VB")&&u.push(g),l>1&&"PRP"===n.tags[l-1]&&0===n.tags[l-2].indexOf("VB"))u.push(g);else if("PRP"===n.tags[l-1]&&"MD"===n.tags[l-2])u.push(g);else for(o=n.tokens[l].deps.dependencies,i=0,s=o.length;s>i;i++)e.indexOf(n.tags[o[i]])>-1&&(n.tags[o[i]-1]||"").indexOf("VB")<0&&u.push(g);l>-1&&-1===u.indexOf(g)&&"VB"===n.tags[l]&&u.push(y)})}(),!function(){var e=r.dirty,n=r.polite,t=r.emphasis,o=["wo","'ll","will"],i=function(e,n){var t,r,o=n.deps.dependencies,s=o.length,a=0;if(0!==s){for(t=0;s>t;t+=1)r=e.tokens[o[t]],i(e,r),a+=r.profile.sentiment;n.profile.sentiment+=parseInt(a/s*100)/100}};a.after("s",function(r,s,a){var f,l,u,c,p,d,m,v=r.length,y=0,x=1,w=0,b=0,O=0,k=0,N=0,_=0,P=0,C=r.governor,B=r.profile;for(f=0;v>f;f++)l=r.tokens[f].profile,c=r.tokens[f].pos,p=r.tokens[f].norm,m=e.indexOf(p)>-1,d=n.indexOf(p)>-1,m?N++:d&&k++,l.negated&&"."!==c&&"EM"!==c&&(m?l.sentiment=l.sentiment/2:l.sentiment=-l.sentiment/2);for(C>-1&&(u=r.tokens[C],i(r,u),c=u.pos,u.attr.is_verb?B.main_tense="VBD"===c?"past":"present":"MD"===c&&o.indexOf(u.norm)>-1&&(B.main_tense="future")),r.stats.p_upper>70&&(x=1.2),f=0;v>f;f++)l=r.tokens[f].profile,c=r.tokens[f].pos,p=r.tokens[f].norm,x*=l.emphasis,("JJS"===c||"RB"===c&&t.indexOf(p)>-1)&&(O+=l.negated?2:5),w=l.sentiment*(1+O/10),y+=w,w>P?P=w:_>w&&(_=w),l.emphasis*=1+O/10,O>0&&-1===["DT","POS","IN"].indexOf(c)&&O--;5>v?v*=2:v>10&&(v/=2),b=(P+-_)/v,y*=x,y/=v,B.types.indexOf(g)>-1&&(y/=2),B.sentiment=y,B.emphasis=x,B.amplitude=b,B.dirtiness=N/v,B.politeness=k/v,Math.abs(b)>.5&&Math.abs(y)<.5&&Math.abs(b)>Math.abs(y)?B.label="mixed":y<=h.profile.negative_threshold?B.label="negative":y>=h.profile.positive_threshold?B.label="positive":b>=h.profile.amplitude_threshold&&(B.label="mixed")})}(),!function(){var e=Object.keys(r.approval),n=Object.keys(r.refusal);a.after("s",function(t,o){var i,s,a,f=t.tokens[0],l=t.profile,u=t.governor>-1?t.tokens[t.governor]:null,c=u?u.deps.dependencies:null,p=t.stats.words,h=l.types;if(!(h.indexOf(g)>-1)){if(n.indexOf(f.norm)>-1)h.push(w);else if(1===p&&"JJ"===f.pos&&l.sentiment<0)h.push(w);else if(u)if(n.indexOf(u.norm)>-1)h.push(w);else if(h.indexOf(y)>-1&&r.approval_verbs.indexOf(u.norm)>-1&&u.profile.negated)h.push(w);else if("UH"===u.pos)for(s=0,a=c.length;a>s;s+=1)i=t.tokens[c[s]],("UH"===i.pos||"RB"===i.pos)&&n.indexOf(i.norm)>-1&&h.push(w);if(!(h.indexOf(w)>-1))if(e.indexOf(f.norm)>-1)h.push(x);else if(1===p&&"JJ"===f.pos&&l.sentiment>0)h.push(x);else if(u&&3>=p)if(e.indexOf(u.norm)>-1)h.push(x);else if(h.indexOf(y)>-1&&r.approval_verbs.indexOf(u.norm)>-1)h.push(x);else if("UH"===u.pos)for(s=0;a>s;s+=1)i=t.tokens[c[s]],"UH"===i.pos&&e.indexOf(i.norm)>-1&&h.push(x)}})}(),!function(){var e=r.floatChar,n=r.thousandChar,t=/[0-9]/,o=/^-?[0-9]+$/,i=new RegExp("^-?[0-9]*\\"+e+"[0-9]+$"),s=new RegExp("^-?[0-9]+([\\"+n+"][0-9]+){1,}$"),f=new RegExp("^-?[0-9]+([\\"+n+"][0-9]+){1,}(\\"+e+"[0-9]+)$"),l=new RegExp("\\"+n,"g"),u=r.numbers,c=r.multipliers,p=function(e){var n=e.norm;if(n.match(t)){if(n.match(o))return parseInt(n,10);if(n.match(i))return parseFloat(n);if(n.match(f))return parseFloat(n.replace(l,""));if(n.match(s))return parseInt(n.replace(l,""),10)}return n=e.attr.singular,u.hasOwnProperty(n)?u[n]:null},h=function(e,n){var t,r,o,i=n[2],s=n[1],a=0;if(1===n[1])return t=i[0],p(t);for(r=0;s>r;r+=1){if(t=i[r],o=p(t),null===o)return null;c.indexOf(t.attr.singular)>-1?a*=o:a+=o}return a},d=function(e,n){var t,r=e[2],o=r.length;for(t=0;o>t;t+=1)r[t].attr.value=n};a.before("s",function(e,n,t,r){for(var o,i,s=r.numericSections,a=s.length,o=0;a>o;o+=1)i=h(e,s[o]),null!==i&&d(s[o],i)})}(),!function(){var n=e.lexicon;a.before("t",function(t,o,i){var s,a,f,l,c=t.raw,p=t.norm,h=t.stem,d=t.pos,g=0,m=1;a=c.toLowerCase(),f=a.length,f>1&&c.indexOf(".")===f-1&&(l=r.abbrs.indexOf(a.slice(0,f-1)))>-1?(t.attr.abbr=!0,p=r.abbrs_rplt[l]):c.match(/^([a-z]{1}\.)+/gi)?t.attr.acronym=!0:p=e.synonym(p),"."===d?(l=c[0],"!"===l||"?"===l?(m=c.length>1?2:"?"===l?1:1.5,c.length>1&&(p=c[0])):"."===l&&"."===c[1]&&(m=1.2,p="...")):"EM"===d?m=1.2:"UH"===d?m=1.1:0===d.indexOf("VB")?t.attr.infinitive=u.infinitive(p):"NNS"===d||"CD"===d?(s=u.singularize(p),t.attr.singular=s):"NN"===d&&(t.attr.singular=p),"NNP"!==d&&"NNPS"!==d&&"IN"!==d&&(n.hasOwnProperty(p)?(l=n[p],l.condition&&t.pos!==l.condition||(g=l.sentiment)):"NNS"===d&&n.hasOwnProperty(s)?(l=n[s],l.condition&&d!==l.condition||(g=l.sentiment/2)):n.hasOwnProperty(h)?(l=n[h],l.condition&&d!==l.condition||(g=l.sentiment/2)):r.dirty.indexOf(p)>-1?g=-2:r.polite.indexOf(p)>-1&&(g=1)),t.profile.sentiment=g,t.profile.emphasis=m,t.norm=p})}(),!function(){var e=[",",":",";","("],n=["-","—","/"];a.before("t",function(t,r,o){var i=t.raw,s=t.pos;(e.indexOf(s)>-1||n.indexOf(i)>-1)&&(t.profile.breakpoint=!0,o.stats.breakpoints++)})}(),!function(){a.before("t",function(n,t,o){var s,a,f,l,u,c=e.lexer.regexps,p=" "+n.norm+" ";for(s in c)c.hasOwnProperty(s)&&p.match(c[s])&&(a=i.entity(n,t,s),n.attr.entity=o.entities.push(a)-1,("username"===a.type||"composite"===s)&&(n.pos="NNP",o.tags[t]="NNP"),o.stats.confidence+=1/o.length,"pl"===s&&(a.type="political_affiliation",f=n.norm.split("-"),u=f[1].length,"d"===f[0]?a.meta.party="democrat":a.meta.party="republican",l="."===f[1][u-1]?r.abbrs.indexOf(f[1].slice(0,u-1)):r.abbrs.indexOf(f[1]),l>-1&&(f[1]=r.abbrs_rplt[l]),n.norm=a.meta.party+", "+f[1]))})}(),!function(){var e=r.numbers;a.init(function(e){e.numericSections=[],e.inNumericSection=!1}),a.before("t",function(n,t,r,o){var i=n.pos,s=o.numericSections;"CD"===i||"NNS"===i&&e.hasOwnProperty(n.attr.singular)?o.inNumericSection?(s[s.length-1][1]+=1,s[s.length-1][2].push(n)):(o.numericSections.push([t,1,[n]]),o.inNumericSection=!0):o.inNumericSection&&(o.inNumericSection=!1)})}(),!function(){var t=[",",".",":",'"',"(",")"];n(i,{entity:function(e,n,t){return{raw:e.raw,norm:e.norm,fromIndex:n,toIndex:n,type:t||null,meta:{}}},sentence:function(e,n){return{language:n,time:0,length:0,governor:-1,raw:e,stats:{words:0,confidence:0,p_foreign:0,p_upper:0,p_cap:0,avg_length:0,breakpoints:0},profile:{label:"neutral",sentiment:0,emphasis:1,amplitude:0,politeness:0,dirtiness:0,types:[],main_tense:"present"},has_negation:!1,entities:[],deps:{subjects:[],objects:[]},root:null,tokens:[],tags:[]}},token:function(n,r,o){var i=null,s=0===o.indexOf("VB");return r=r.toLowerCase(),i="VBD"===o||"VBN"===o?"past":"VBG"===o?"gerund":"present",{raw:n,norm:r,stem:e.stemmer(r),pos:o||"",profile:{sentiment:0,emphasis:1,negated:!1,breakpoint:!1},attr:{value:null,acronym:!1,abbr:!1,is_verb:s,tense:i,infinitive:null,is_noun:0===o.indexOf("NN"),plural:null,singular:null,entity:-1,is_punc:t.indexOf(o)>-1},deps:{master:null,governor:!1,type:"unknown",dependencies:[]}}},tag:function(e,n,t){return{tag:e||"NN",norm:t,confidence:n||0,blocked:!1,reason:"unknown"}}})}(),!function(){var i,s,a=r.abbrs,f=/(\S.+?[….\?!\n])(?=\s+|$|")/g,l=new RegExp("(^| |\\(|\\[|{)("+a.join("|")+")[.!?] ?$","i"),u=" !?()[]{}\"'`%•.…:;,$€£¥\\/+=*_–",c=e.punycode.ucs2,p=r.floatChar,h=r.thousandChar,d=/^-?[0-9]+$/,g=/^[0-9]+$/,m=new RegExp("^-?[0-9]+[.,]$"),v={complexFloat:"\\s(-?[0-9]+([\\"+h+"][0-9]+){1,}(\\"+p+"[0-9]+))"},y={},x=r.emots.length,w=function(e){var n=0,t=e.length;for(n=0;t>n;n+=1)if(null===e[n]||"emoticon"!==e[n].group)return!1;return!0},b=function(e,n,t,r){var o,i,s,a;for(o in t)if(t.hasOwnProperty(o))for(s=new RegExp(t[o],"g");null!==(a=s.exec(e));)i=a[0].length,n[a.index]={content:a[1],type:o,group:r,length:i-(i-a[1].length)}};for(i=0;2*x>i;i+=2)s=r.emots[i/2],y["em_"+i]="\\s("+t(s)+"+)[^a-z]",s.match(/^[a-zA-Z]/)||(y["em_"+(i+1)]="[a-zA-Z]("+t(s)+"+)[^a-z]");n(e.lexer,{regexps:{email:"\\s([^\\s]+@[^\\s]+(\\.[^\\s\\)\\]]+){1,})",composite:"\\s([a-zA-Z]&[a-zA-Z])",username:"\\s(@[a-zA-Z0-9_]+)",html_char:"\\s(&[a-zA-Z0-9]{2,4};)",hashtag:"\\s(#[a-zA-Z0-9_]+)",url:"\\s((https?|ftp):\\/\\/[\\-a-z0-9+&@#\\/%\\?=~_|!:,\\.;]*[\\-a-z0-9+&@#\\/%=~_|])",ip:"\\s(([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\.([01]?\\d\\d?|2[0-4]\\d|25[0-5]))\\s",pl:"\\s([rd]-([a-z]+\\.{0,1})+)"},consolidate:function(e,n,t){for(var r=1,o=e.length;o>r;r+=1)w(n[r])&&(e[r-1]=e[r-1].concat(e[r]),t[r-1]+=" "+t[r],e.splice(r,1),n.splice(r,1),t.splice(r,1),r-=1,o-=1);return e},sentences:function(e){var n,t,r=e.split(f),o=r.length,i=[];for(n=0;o>n;n++)t=r[n].trim(),t.match(l)||t.match(/[ |\.][A-Za-z]\.?$/)?o-1>n&&!r[n+1].match(/^[A-Za-z]\s/)?r[n+1]=t+" "+r[n+1].trim():i.push(t):t&&i.push(t);return i},splitTokens:function(e){var n,t,r,i=e.length,s=[],a=[],f=null,l=" "+e+" ",p={},h=function(e){if(e){"object"==typeof e&&(f=e,e=e.content),r=c.decode(e);var n,t=r.length,o="";for(n=0;t>n;n++)r[n]>=128511?(o&&(a.push(f),s.push(o)),a.push({group:"emoticon"}),s.push(c.encode([r[n]])),o=""):o+=c.encode([r[n]]);o&&(a.push(f),s.push(o))}},d=function(e,n){h(e),h(n),t=""};for(b(l,p,o.regexps,"entity"),b(l,p,y,"emoticon"),b(l,p,v,"number"),t="",n=0;i>n;n++)p.hasOwnProperty(n)?(d(t,p[n]),n+=p[n].length-1):u.indexOf(e[n])>-1?d(t,e[n]):t+=e[n];return d(t),{tokens:s,meta:a}},tokens:function(e,n){var t,r,i=o.splitTokens(e),s=i.tokens,f=i.meta,l=s.length,u=!1,c=[],p=[],h="",v="",y=0;for(t=0;l>t;t++)if(r=s[t].trim())if(h=y>0?c[y-1]:"",v=l-1>t?s[t+1]:"",("."===r||","===r)&&h.match(d)&&v.match(g)||r.match(d)&&h.match(m))u=!1,c[y-1]+=r;else if("."===r&&l-1>t&&y>0&&a.indexOf(h.toLowerCase())>-1)u=!1,c[y-1]+=r;else if(u&&l-1>t&&1===r.length)c[y-1]+=r;else{if(r.match(/^\W+$/gi)){if(u=!1,r===h[h.length-1]){c[y-1]+=r;continue}}else r.match(/^[A-Za-z]{1}$/g)&&l-1>t&&"."===v&&(u=!0);r&&(c.push(r),p.push(f[t]),y++)}else u=!1;return{result:o.postprocess(c,p),meta:p}},advanced:function(e,n,t){var r,i,s=o.sentences(e),a=s.length,f=[],l=[];if(t)return{sentences:s,raws:null,meta:null};for(r=0;a>r;r++)l.push(s[r]),i=o.tokens(s[r],n),f[r]=i.meta,s[r]=i.result;return o.consolidate(s,f,l),{raws:l,sentences:s,meta:f}},lex:function(e,n,t){return o.advanced(e,n,t).sentences}}),e.lex=o.lex}(),!function(){var n=["#","SYM","CR","EM"];e.stat=function(e){var t,r,o,i,s=e.length,a=s,f=e.stats,l=0,u=0,c=0,p=0,h=0;for(t=0;s>t;t++)r=e.tokens[t],o=r.raw,l+=o.length,i=e.tags[t],r.attr.is_punc||n.indexOf(i)>-1?a--:(p+=1,o.match(/^[A-Z][a-zA-Z]+$/g)&&h++,o.match(/[A-Z]+/)&&!o.match(/[a-z]/)&&c++,"FW"===i&&u++);0===a&&(a=1),f.words=p,f.p_foreign=100*u/a,f.p_upper=100*c/a,f.p_cap=100*h/a,f.avg_length=l/a}}(),!function(){var n=r.synonyms,t=n.length;e.synonym=function(e){var r;for(r=0;t>r;r++)if(n[r].indexOf(e)>0)return n[r][0];return e}}(),!function(){var t=c.specifics,o=0,s=1,a=2,f=3,l=4,u=41,p=5,h=51,d=6,g=8,m=81,v=9,y=11,x=12,w=121,b=13,O=14,k=141,N=15,_=16,P=17,C=171,B=172,$=18,A=19,S=21,z=(e.lexicon,r.emots),V=r.rules,j=V.length,R=r.suffixes,Z=R.length,E=new RegExp("^-?[0-9]+([\\"+r.thousandChar+"][0-9]+){1,}(\\"+r.floatChar+"[0-9]+)$"),L=function(n){var t,r=n.replace(/(.)\1{2,}/g,"$1$1");return e.lexicon.hasOwnProperty(r)?r:(t=e.synonym(r),t!==r?t:(r=n.replace(/(.)\1{1,}/g,"$1"),e.lexicon.hasOwnProperty(r)?r:(t=e.synonym(r),t!==r?t:null)))};n(c,{matchPotentialProperNoun:function(e){return e.match(/^[A-Z][a-z\.]+$/g)||e.match(/^[A-Z]+[0-9]+$/g)||e.match(/^[A-Z][a-z]+[A-Z][a-z]+$/g)},applyRule:function(e,n,t,r,i,c,z){if(!(e.from!==t||e.secondRun&&0===z)){var V,j,R=e.type;if(R!==o){if(n=n.toLowerCase(),R===a){if(r>0&&c[r-1]===e.c1)return void(c[r]=e.to)}else if(R===h){if(V=i[r-1]||"",c[r-1]===e.c2&&V.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===f){if(c[r+1]===e.c1)return void(c[r]=e.to)}else if(R===l){if(c[r+2]===e.c1)return void(c[r]=e.to)}else if(R===u){if(c[r-2]===e.c1)return void(c[r]=e.to)}else if(R===s){if(c[r-1]===e.c1||c[r-2]===e.c1)return void(c[r]=e.to)}else if(R===p){if(V=i[r-1]||"",V.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===d){if(n===e.c1)return void(c[r]=e.to)}else if(R===g){if(n===e.c2&&c[r-1]===e.c1)return void(c[r]=e.to)}else if(R===m){if(V=i[r-1]||"",n===e.c2&&V.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===v){if(c[r+1]===e.c1||c[r+2]===e.c1||c[r+3]===e.c1)return void(c[r]=e.to)}else if(R===y){if(V=i[r+2]||"",V.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===w){if(V=i[r+1]||"",n===e.c1&&V.toLowerCase()===e.c2)return void(c[r]=e.to)}else if(R===x){if(n===e.c1&&c[r+1]===e.c2)return void(c[r]=e.to)}else if(R===b){if(c[r-1]===e.c1||c[r-2]===e.c1||c[r-3]===e.c1)return void(c[r]=e.to)}else if(R===O){if(c[r-1]===e.c1&&c[r+1]===e.c2)return void(c[r]=e.to)}else if(R===k){if(n===e.c1&&c[r-1]===e.c2&&c[r+1]===e.c3)return void(c[r]=e.to)}else if(R===N){if(V=i[r+1]||"",V.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===_){if(c[r+1]===e.c1||c[r+2]===e.c1)return void(c[r]=e.to)}else if(R===P){if(c[r-2]===e.c1&&c[r-1]===e.c2)return void(c[r]=e.to)}else if(R===B){if(c[r-2]===e.c1&&c[r-1]===e.c2&&c[r+1]===e.c3)return void(c[r]=e.to)}else if(R===C){if(c[r+1]===e.c1&&c[r+2]===e.c2)return void(c[r]=e.to)}else if(R===$){if(V=i[r+1]||"",j=i[r+2]||"",V.toLowerCase()===e.c1||j.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===A){if(j=i[r-2]||"",j.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===S){if(V=i[r-1]||"",j=i[r-2]||"",V.toLowerCase()===e.c1||j.toLowerCase()===e.c1)return void(c[r]=e.to)}else if(R===s&&(V=c[r-1]||"",j=c[r-2]||"",V===e.c1||j===e.c1))return void(c[r]=e.to)}else if(0===r&&n===e.c1)return void(c[r]=e.to)}},applyRules:function(e,n,t,r,o){var i;for(i=0;j>i;i++)c.applyRule(V[i],e,r[n],n,t,r,o)},apply:function(e,n,t){for(var r,o=e.length,i=0;2>i;){for(r=0;o>r;r++)t[r]!==!0&&this.applyRules(e[r],r,e,n,i);i++}return n},testSuffixes:function(e){var n;for(n=0;Z>n;n++)if(e.match(R[n].regexp))return R[n].pos;return null},getTag:function(n){var t,r,o,s,a,f=i.tag();if(f.norm=n,n.length>1)for(t=null,r=0,o=z.length;o>r;r++)if(0===n.indexOf(z[r]))return f.tag="EM",f.blocked=!0,f.confidence=1,f.reason="emoticon",f;return t=e.lexicon[n],t&&"-"!==t?(f.tag=t,f.blocked=t.blocked,f.confidence=1,f.reason="lexicon",f):(s=n.toLowerCase(),a=e.synonym(s),a!==s&&(t=e.lexicon[a])?(f.tag=t,f.confidence=1,f.reason="synonym of lexicon term",f):s.match(/(\w)\1+/g)&&(a=L(s))?(f.norm=a,t=e.lexicon[a],f.tag=t,f.confidence=.8,f.reason="char streak",f):"string"==typeof n&&n.match(/[A-Z]/g)&&(t=e.lexicon[s],t&&"-"!==t)?(f.tag=t,f.confidence=.75,f.reason="lexicon lowercased",f):(t=c.testSuffixes(n),t?(f.tag=t,f.confidence=.25,f.reason="suffix",f):n.indexOf("-")>-1?(n.match(/^[A-Z]/g)?f.tag="NNP":f.tag="JJ",f.reason="composed word",f.confidence/=2,f):f))},tag:function(e){var n,r,o,i=[],s=[],a=[],f=[],l=e.length,u=0,p=function(e,n,t,r){e="object"==typeof e?e.pos:e,f.push(e+"/"+r),i.push("-"===e?"NN":e),s.push("boolean"==typeof t?t:!1),u+=n};for(r=0;l>r;r++)n=e[r],a[r]=n,n.match(/^[%\+\-\/@]$/g)?p("SYM",1,!0):n.match(/^(\?|\!|\.){1,}$/g)?p(".",1,!0):n.match(/^-?[0-9]+([\.,][0-9]+)?$/g)||n.match(E)||n.match(/^([0-9]{2}|[0-9]{4})s$/g)||n.match(/^[0-9]{2,4}-[0-9]{2,4}$/g)?p("CD",1,!0):(o=c.getTag(e[r]),p(o.tag,o.confidence,o.blocked,o.reason),a[r]=o.norm);return t.beforeBrill(e,i),c.apply(e,i,s),t.afterBrill(e,i),{tags:i,norms:a,confidence:u/l}}}),e.tag=c.tag}()}("undefined"==typeof exports?this.compendium={}:exports);